package net.newecologyofthings.toolkit {		import flash.system.Capabilities;	import flash.display.Loader;	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.geom.Rectangle;	import flash.events.*;		public class Knob extends MovieClip {  		private var knob:MovieClip;		private var rectangle:Rectangle;		private var widget:MovieClip;		public var dragging:Boolean = false;			  		public function Knob(knob:MovieClip, rectangle:Rectangle, widget:MovieClip) {									this.knob = knob;			this.rectangle = rectangle;			this.widget = widget;						knob.addEventListener(MouseEvent.MOUSE_DOWN, knobDrag);									knob.buttonMode = true;		}				private function knobDrag(event:Event): void {						knob.startDrag(false,rectangle);			//knob.addEventListener(MouseEvent.MOUSE_MOVE,knobMoving);			knob.addEventListener(Event.ENTER_FRAME,knobMoving);			widget.stage.addEventListener(MouseEvent.MOUSE_UP, knobStopDrag);			dragging = true;		}				private function knobStopDrag(event:Event): void {						knob.stopDrag();			//knob.removeEventListener(MouseEvent.MOUSE_MOVE,knobMoving);			knob.removeEventListener(Event.ENTER_FRAME,knobMoving);			widget.stage.removeEventListener(MouseEvent.MOUSE_UP, knobStopDrag);			dragging = false;		}				private function knobMoving(event:Event): void {			//trace("knobmove, rect.height: " + rectangle.height + " knob.y: " + knob.y + " rect.y: " + rectangle.y)			widget.knobMove(rectangle.height - (knob.y - rectangle.y));		}	}}