package net.newecologyofthings.toolkit {		//import flash.system.Capabilities;	//import flash.display.Loader;	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.events.*;		public class MomentaryButton extends MovieClip {  		private var _text:String;		private var button:MovieClip;		private var widget:MovieClip;		private var buttonType:String;			  		public function MomentaryButton(button:MovieClip, widget:MovieClip, buttonType:String) {									this.button = button;			this.widget = widget;			this.buttonType = buttonType;			text = "off";						button.addEventListener(MouseEvent.MOUSE_UP, handleMouseUp);			button.addEventListener(MouseEvent.MOUSE_DOWN, handleMouseDown);			button.buttonMode = true;		}				private function handleMouseDown(event:Event): void {			text = "on";			button.addEventListener(Event.ENTER_FRAME,buttonStillDown); 			dispatchEvent(new Event(Event.CHANGE));		}				private function handleMouseUp(event:Event): void {			text = "off";			button.removeEventListener(Event.ENTER_FRAME,buttonStillDown); 			dispatchEvent(new Event(Event.CHANGE));		}				private function buttonStillDown(event:Event):void {			widget.buttonStillDown(buttonType);		}				public function setState(value:String):void {			if (value == "on") {				_text = "on";				button.gotoAndStop(2);			} else { // default to off for off or any other value				_text = "off";				button.gotoAndStop(1);			}		}				public function get text():String { return _text; }		public function set text(value:String):void {			setState(value);			widget.handleButton(buttonType, text);		}	}}